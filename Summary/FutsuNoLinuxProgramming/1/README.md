# Linuxプログラミングを始めよう
## 1.1 本書の構成
Linuxの構成概念は次の３つです。
- ファイルシステム
- プロセス
- ストリーム

Linuxはこの３つの概念によって成立しているので、この3つの概念を理解していくことを目標にします。
## 1.2 プログラミング環境の準備
(既にインストール済みの場合は不要です。)gccをインストールします。
```
$ sudo yum install gcc
```
gccのバージョンを確認します。
```
$ gcc --version
```
## 1.3 gccを使ったビルド(1)
いつもどおりHello Worldを出力するプログラムを作ります。
```c
/* File Name: hello.c */
#include <stdio.h>

int main(int argc, char* argv[])
{
  printf("Hello World\n");
  return 0;
}
```
このファイルをビルドします。
```
$ gcc hello.c -o hello.o
```
出力されたプログラムを実行します。
```
$ ./hello.o
```
実行するとHello Worldを出力されます。
## 1.4 gccを使ったビルド(2)
### ■ コンパイラによるコードチェック
gccの`-Wall`オプションをつけると一般的な警告オプションがすべてオンになり、引数の数の違いや型の違いを警告してくれます。
### ■ コンパイラによる最適化
gccには、最適化のゆるい順に`-O1`、`-O2`、`-O3`という最適化オプションがあります。  
特に思うところがないのなら、`-O2`をつければよいです。
## 1.5 コマンドライン引数
コマンドライン引数の扱いについて学びます。  
コマンドライン引数というのは、コマンドラインから
```
$ ./test.o x y z
```
と入力したときの`x`,`y`,`z`のことです。
### ■ argc と argv
コマンドライン引数は、main()の引数としてプログラムに渡されます。  
最初のHello Worldプログラムをもう一度見てみましょう。
```c
/* File Name: hello.c */
#include <stdio.h>

int main(int argc, char* argv[])
{
  printf("Hello World\n");
  return 0;
}
```
このargvとargcがコマンドライン引数を表現しています。  
argcは渡されたコマンドライン引数の数、argvがコマンドライン引数の実体(文字配列)です。  
コマンドライン引数に`x`,`y`,`z`を渡した際のargvの構造を図にしてみました。
```
   argv[0]     argv[1]     argv[2]     argv[3]
-------------------------------------------------
|           |           |           |           |
| ./hello.o |    x\0    |    y\0    |    z\0    |
|           |           |           |           |
-------------------------------------------------
```
argv[0]には実行したプログラム名が格納されます。  
このことからargcは常に1以上です。  
また、コマンドライン引数だけを扱う場合はargv[1]から処理を始めなければいけません。

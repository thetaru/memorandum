# ファイルシステムにかかわるAPI
## 10.1 ディレクトリの内容を読む
ファイル1つの情報を持つ構造体のことをディレクトリエントリといいます。  
ディレクトリは、ディレクトリエントリの可変長配列と考えることができます。  
  
ディレクトリエントリのストリームを扱うAPIにも、普通のファイルを扱うAPIのopen()、read()、close()に対応する操作があります。
### ■ opendir(3)
```c
#include <sys/types.h>
#include <dirent.h>

DIR *opendir(const char *path);
```

|引数|意味|
|:---|:---|
|path|ファイルへのパス|

|戻り値|意味|
|:---|:---|
|成功|ディレクトリストリームへのポインタ|
|失敗|NULL|

opendir()は、パスpathにあるディレクトリを読み込みのために開きます。  
戻り値はDIRという型へのポインタで、これは構造体ストリームを管理するための構造体です。

### ■ readdir(3)
```c
#include <sys/types.h>
#include <dirent.h>

struct dirent *readdir(DIR *d);
```

|引数|意味|
|:---|:---|
|d|ディレクトリストリーム|

|戻り値|意味|
|:---|:---|
|成功|読み込んだエントリをdirent構造体で返す|
|失敗|NULL|

readdir()は、ディレクトリストリームdからエントリを1つ読み込みます。

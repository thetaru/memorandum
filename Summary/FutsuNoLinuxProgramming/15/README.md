# ネットワークプログラミングの基礎
## 15.1 インターネットの仕組み
常識的な内容なので省略

## 15.2 ホスト名とリゾルバ
常識的な内容なので省略

## 15.3 ソケットAPI
### ■ ソケット
Linuxでソケット通信に使うのがソケットです。  
ソケットとは、ストリームをそこに接続することができる口です。  
例えば、サーバ側とクライアント側の両方を扱えたり、使用するプロトコルもTCPとUDPの他、生のIPや、インターネット以外のネットワークプロトコルを使用することも可能です。  

### ■ クライアント側のソケットAPI
クライアント側からサーバにストリームを接続するには、次の2つのシステムコール呼び出しが必要です。
- socket(2)
> ソケットを作るシステムコールです。
- connect(2)
> 接続する相手を指定し、ストリームをつなぎます。

### ■ socket(2)
```c
#include <sys/socket.h>
#include <sys/types.h>

int socket(int domain, int type, int protocol);
```
|引数|意味|
|:---|:---|
|domain||
|type||
|protocol||

|戻り値|意味|
|:---|:---|
|成功|ファイルディスクリプタ(0以上の整数)|
|失敗|-1|

socket()は、ソケットを作成し、それに対応するファイルディスクリプタを返します。  
※ ファイルディスクリプタはストリーム以外にも対応することができることに注意しましょう。

### ■ connect(2)
```c
#include <sys/socket.h>
#include <sys/types.h>

int connect(int sock, const struct sockaddr *addr, socklen_t addrlen);
```
|引数|意味|
|:---|:---|
|sock|ソケット|
|addr|IPアドレス|
|addrlen|addrのサイズ|

|戻り値|意味|
|:---|:---|
|成功|0|
|失敗|-1|

### ■ サーバ側のソケットAPI
サーバ側(ストリームの接続を待つ側)は、次の4つのシステムコール呼び出しが必要です。
- socket(2)
- bind(2)
- listen(2)
- accept(2)

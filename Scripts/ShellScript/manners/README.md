# ShellScriptのお作法
## ■ 命名規則
### スクリプト名
`-`区切りの小文字英数字をつける。拡張子は`.sh`とする。
```
deploy-server.sh
```

### 変数名
- グローバル変数

`_`区切りの大文字英数字を使う。
```sh
GLOBAL_VAR="global"
```
- ローカル変数

`_`区切りの小文字英数字を使う。
```sh
local local_var="local"
```
### ループ変数
`_`区切りの小文字英数字を使う。
```sh
for rule in rules; do
  echo "${rule}"
done
```
指定回数分のループ処理の場合は`_`のみを使う。
```sh
for _ in $(seq 1 10); do
  echo "hoge"
done
```
※ python感がでてしまう

### 関数名
`_`区切りの小文字英数字を使う。
```sh
function func_name() {
  (snip)
}
```

## ■ 改行コード
LFを使用する。

## ■ Shebang
```sh
#!/bin/bash
```

## ■ bashオプション
```sh
set -euxo pipefail
```

## ■ ディレクトリ移動
### 実行場所がディレクトリに依存しない場合
スクリプトのあるディレクトリに移動する。
```sh
cd "$(dirname "$0")"
```

### 実行場所がディレクトリに依存する場合
カレントディレクトリを変数に保存後、スクリプトのあるディレクトリに移動する。
```sh
WORKDIR=$(pwd)
cd "$(dirname "$0")"
```

## ■ 変数
### 変数宣言
- 変数宣言時は必ず`""`あるいは`$()`で囲む
```sh
### 定数または変数を設定する場合は""で囲む
MESSAGE="Hello World!"

### コマンドの実行結果を設定する場合は$()で囲む
NOW=$(date)
```
### 変数展開
## ■ 関数
### 関数定義
### 変数宣言
関数内では変数宣言時に`local`をつけてローカル変数として扱うことができる。
## ■ 呼び出し
### 変数の呼び出し
### コマンドの呼び出し
## ■ 制御構文
### if文
### while文
### for文
## ■ エラーハンドリング
## ■ ロギング
## ■ オプション
うーん... いらんくない...?
## ■ 単体テスト
## ■ スクリプトのコード長
100行程度に収められないなら、ちゃんとしたプログラミング言語で書くべきだと思う。

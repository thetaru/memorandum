# スタティックルートの使い方
自宅サーバのためにやった
## ■ 事前情報
|項目|NW|
|:---|:---|
|Internal#1|192.168.137.0/24|
|Internal#2|192.168.138.0/24|
|External|192.168.0.0/24|

|NW|Interface|ホスト名|IP|
|:---|:---|:---|:---|
|Internal#1|ens224|gw-srv1|192.168.137.254|
|External|ens192|gw-srv1|192.168.137.10|
|Internal#2|ens224|gw-srv2|192.168.138.254|
|External|ens192|gw-srv2|192.168.137.20|

## ■ 構成概要
```
Internal#1 (192.168.137.0/24)  External
|                              |
|        +------------+        |
| ens224 |            | ens192 |
+--------+  gw-srv1   +--------+ 192.168.0.10
|        |            |        |
|        +------------+        |
|                              |
                               |
                               + GW: 192.168.0.1
Internal#2 (192.168.138.0/24)  |
|                              |
|        +------------+        |
| ens224 |            | ens192 |
+--------+  gw-srv2   +--------+ 192.168.0.20
|        |            |        |
|        +------------+        |
|                              |
```
## ■ やりたかったこと
Internal#1のネットワークとInternal#2のネットワークで通信できるようにする。  
やるべきことはスタティックルートでつなぐだけ。
## ■ 設定
### gw-srv1側の設定
```
# nmcli connection modify ens224 +ipv4.routes "192.168.138.0/24 192.168.0.10"
```
### gw-srv2側の設定
```
# nmcli connection modify ens224 +ipv4.routes "192.168.137.0/24 192.168.0.20"
```
